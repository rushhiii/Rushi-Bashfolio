<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rushhiii | Terminal-Website</title>
    <link rel="icon" href="https://app.netlify.com/favicon.ico" type="image/svg+xml" />
    <!-- <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet"> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/default.css"> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/style.css"> -->
    <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/aurora.css">
    <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/set_theme.css">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/aurora.css"> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/espresso.css"> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/green.css"> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/pink.css"> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/b&w.css"> -->
    <style>
        #liner::before {
            /* color: #f9b17a; */
            content: "ðŸ—²@Browsercom$~SYSTEM~$rushhiii:~âž¤ ";
        }
    </style>
</head>

<body>
    <!-- <div class="body-wrap"> -->
    <div id="terminal">
        <a id="before"></a>
    </div>
    <div id="command" onclick="document.getElementById('texter').focus();">
        <textarea type="text" id="texter" onkeyup="typeIt(this, event)"
            onkeydown="typeIt(this, event); moveIt(this.value.length, event)" onkeypress="typeIt(this, event);"
            autofocus></textarea>
        <div id="liner">
            <span id="typer"></span><b class="cursor" id="cursor" style="left: 0px"></b>
        </div>
    </div>
    <!-- </div> -->

    <!-- Theme Switcher -->
    <div id="theme-switcher">
        <div class="theme-box" data-theme="aurora.css" style="background:#232946" title="Aurora"><span>Aurora</span></div>
        <div class="theme-box" data-theme="espresso.css" style="background:#1e1e1e" title="Espresso"><span>Espresso</span></div>
        <div class="theme-box" data-theme="green.css" style="background:#003300" title="Matrix"><span>Matrix</span></div>
        <div class="theme-box" data-theme="pink.css" style="background:#ff79c6" title="Synthwave"><span>Synthwave</span></div>
        <div class="theme-box" data-theme="b&w.css" style="background:#181c24" title="B&W"><span>B&amp;W</span></div>
        <div class="theme-box" data-theme="academia.css" style="background:#121212" title="Academia"><span>Academia</span></div>
        <div class="theme-box" data-theme="default.css" style="background:#1c213f" title="Default"><span>Default</span></div>
    </div>

    <script src="./assets/js/caret.js"></script>
    <script src="./assets/js/command.js"></script>
    <script src="./assets/js/main.js"></script>
    <script>
  // Theme Switcher Logic
  const themeBoxes = document.querySelectorAll('#theme-switcher .theme-box');
  const themeLink = document.querySelector('link[rel=stylesheet][href^="./assets/css/"]');

  function setActiveThemeBox(theme) {
    themeBoxes.forEach(box => {
      if (box.getAttribute('data-theme') === theme) {
        box.classList.add('active');
      } else {
        box.classList.remove('active');
      }
    });
  }

  themeBoxes.forEach(box => {
    box.addEventListener('click', () => {
      const theme = box.getAttribute('data-theme');
      if (themeLink) {
        themeLink.setAttribute('href', './assets/css/' + theme);
        localStorage.setItem('selectedTheme', theme);
        setActiveThemeBox(theme);
      }
    });
  });

  // On load, restore theme if saved
  const savedTheme = localStorage.getItem('selectedTheme');
  if (savedTheme && themeLink) {
    themeLink.setAttribute('href', './assets/css/' + savedTheme);
    setActiveThemeBox(savedTheme);
  } else {
    // Default: set active to current loaded theme
    const currentTheme = themeLink.getAttribute('href').replace('./assets/css/', '');
    setActiveThemeBox(currentTheme);
  }
</script>
</body>

</html>